# 02. CI

### 지속적 통합으로 개발 주기를 단축

1. 개발 주기를 단축하려면?
   - 문제를 빨리 발견하고, 얼마나 빨리 대처할 수 있는지
   - 일련의 작업을 간소화애야 개발 주기 전체의 효율성이 증가
2. 코드가 변경되는 시점이 계기가 됨
   - Deploy / Test - Release 가 반복
   - 코드 변경을 계기로 자동으로 Deploy / Test
   - 개발 전체의 효율화가 진행

### 지속적 통합(Continuous Integration : CI)

##### 특징

- 전체 개발 주기를 간소화, 문제를 조기 발견
- 기능 구현에 관련된 작업 _(Build, Test, Format 검사)_ 을 계속적, 자동적으로 실시
- 소프트웨어 및 서비스가 작동하는지 세세하게 확인하면서 개발을 진행
- 테스트가 항상 실행되고 있는 상태
- CI의 예시

  1. 하나의 기능 구현을 구성 관리 시트템에 commit
  2. 정적인 Format 검사 도구로 코드의 형식을 점검
  3. 자동으로 Build 진행
  4. Build 된 어플리케이션은 코드화된 테스트 도구에 의해 자동으로 테스트 실시

     (자동으로 단위 테스트(Unit test), 연계 테스트)

##### 장점

1. 문제의 조기 발견, 품질 유지
   - 코드 변경 -> 환경에 반영하고 테스트 (Lead time 이 발생)
   - 지속적 통합은 자주 테스트를 실시하며 진행
   - 코드 변경 때 마다 테스트 -> 바로 재수정
     - 품질을 유지하기 위한 주기(시간)가 단축
     - 문제 발생 원인의 범위를 축소
   - 문제를 조기에 발견, 문제의 원인을 조기에 확인 가능
2. 작업 비용 절감
   - 코드를 변경 -> 테스트를 수행 **(자동화)**
   - 개발자가 수행하던 "코드의 Build 및 Deploy", "테스트 실행"을 자동으로 실시
   - 작업 비용이 절감됨
3. 상황의 가시화
   - 팀의 공유 환경에서 다른 멤버들의 코드 또한 적용된 상태에서 테스트를 수행
   - 중앙 집중식으로 작동 : 코드 변경으로 인한 테스트, 테스트 결과
   - 개발 담당자와 운영 담당자 간의 상황 공유 및 협조

##### 구성 요소

- 지속적 통합이란 코드 변경 및 코드 변경과 연계된 테스트 등의 작업을 자동화하는 것
- 일련의 작업을 지속적으로 수행하는 것, 특정 작업을 자동화하는 것이 아님
  - 어플리케이션 정적 테스트
  - 어플리케이션 Build
  - 어플리케이션 동적 테스트
- 이를 묶어 실행하기 위한 지속적 통합 도구가 필요
- 메일, 채팅 도구와 연계 -> 현재 코드의 상태를 개발자에게 실시간으로 제공

### 어플리케이션 정적 테스트

- 정의
  - 실제로 어플리케이션을 가동하지 않고 실시하는 테스트
  - 사람이 개입하지 않고, 사람에게 의지하지 않고도 확인할 수 있는 내용을 자동으로 실행
- 종류
  - Syntax check : 언어에 따라 구문의 오류를 조사
  - 정적 분석 : 팀에서 정의한 코딩 규칙에 부합하는지 여부를 확인
- 툴의 종류
  - Java : FindBugs, SonarQude
  - Ruby : Rubocop
  - JavaScript : Closure Linter, ESLint
  - Golang : Go Meta Linter

### 어플리케이션 Build

- 정의
  - 정적 테스트를 통해 개별 코드에 문제가 없으면 Build 를 진행
  - 의존성 문제로 Build 가 되지 않는 경우가 있을 수 있음
  - Build 에 소요되는 시간을 확인
  - Build 를 위한 환경 설정이나 별도의 패키지를 확인
- 툴의 종류
  - Java : Ant, Maven, Gradle
  - Ruby : Rake
  - JavaScript : Gurnt, gulp

### 어플리케이션 동적 테스트

- 정의
  - 어플리케이션의 동작 자체를 확인
  - 단위 테스트, 연계 테스트를 의미
  - 어플리케이션이 의도한 대로 동작하는지를 확인
  - 지속적 통합의 가장 중요한 단계
  - 테스트를 충분히 실시함으로써, 어플리케이션의 품질을 높임
  - 오류가 존재하는 경우, 즉시 파악 가능
- 툴의 종류
  - Java : JUnit
  - Ruby : RSpec
  - JavaScript : PhantomJS + Jasmine, mocaha + chai

### 지속적 통합 도구

- 필요 조건
  - 처리를 기동하는 계기를 정의
  - 다양한 처리를 기동할 수 있음
  - 처리 상황을 확인할 수 있으며, 결과를 축적할 수 있음
- Jenkins : 대표적인 Build Pipeline 도구, 지속적 통합을 실현
